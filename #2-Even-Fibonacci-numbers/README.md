## Even Fibonacci numbers

```
Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:

1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...

By considering the terms in the Fibonacci sequence whose values do not exceed million, find the sum of the even-valued terms.
```

Существует не менее 3 решений

### Перебор

Первое, очевидное, решение — перебор.

Код может выглядеть так:

```javascript
while(fibonacci.calc(n) < maxValue) {
	total += (fibonacci.calc(n) % 2 == 0) ? fibonacci.calc(n) : 0;
	n++;
}
console.log(total);
```

`fibonacci` — функция, которая рекурсивно вычисляет `n` член последовательности Фибоначчи

```javascript
function fibonacci(n) {
	if (!fibonacci.cache) {
		fibonacci.cache = {
			"1": 1,
			"2": 2
		}
	}

	if (!fibonacci.cache.hasOwnProperty(n)) {
		fibonacci.cache[n] =  fibonacci(n - 1) + fibonacci(n - 2);
	}

	return fibonacci.cache[n];
}
```

### Золотое сечение

Решение построено на факте существования определенного отношения между членами последовательности:

```
F[n] / F[n - 1] = phi
```

где `phi` — величина [золотого сечения](http://ru.wikipedia.org/wiki/%C7%EE%EB%EE%F2%EE%E5_%F1%E5%F7%E5%ED%E8%E5)

Это факт следует из [формулы Бине](http://ru.wikipedia.org/wiki/%D7%E8%F1%EB%E0_%D4%E8%E1%EE%ED%E0%F7%F7%E8), для этого достаточно провести несложные алгебраические выкладки для отношения `F[n+1]/F[n]`, заменив соотвествующие члены последовательности по формуле Бине.

Так же, на мой взгляд, ключевой момент в построении решения — факт того, что каждый третий член последовательности четный.

Этот факт также требует формального доказательства (нельзя же наблюдать до бесконечности), которое можно провести, используя [метод математической индукции](http://ru.wikipedia.org/wiki/%CC%E0%F2%E5%EC%E0%F2%E8%F7%E5%F1%EA%E0%FF_%E8%ED%E4%F3%EA%F6%E8%FF)

Докажем следующее утверждение: 

>Пусть `a[n]` — четное число, тогда `a[n+3]` — тоже четное.

База индукции: `a[2] = 2, a[5] = 8`. Утверждение верно.

Рассмотрим `a[n+3]/a[n]`, его можно представить как `2*a[n+1]/a[n] + 1`.  

Тогда `a[n] = 2*k`, где k — любое другое натуральное число. Отсюда, после несложных преобразований, получаем, что
`a[n+3] = 2*(a[n+1] + k)`, делится на 2 — четное.

Таким образом, можно сказать, что для любого n утверждение будет верно по индукции.

Также по ходу выкладок получилась формула `a[n+3]/a[n] = 2*phi + 1` , которая позволяет представить отношение `a[n+3]/a[n]` как функцию `phi`.

`phi ~= 1,61803...`, значит *отношение двух соседних четных членов равно `4.23606`*

Это утверждение позволяет составить алгоритм решения задачи *не вычисляя каждый член последовательности явно*